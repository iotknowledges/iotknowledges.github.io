<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="cuiqingwei">
        <link rel="canonical" href="https://iotknowledges.github.io/stands&protocols/RPL/">
        <link rel="shortcut icon" href="favicon.ico">
        

	<title>RPL - IoT</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-42607542-3', 'iotknowledges.github.io');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">IoT</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">首页</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">概念 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../base/IoT/">IoT</a>
</li>

                    
                        
<li >
    <a href="../../base/WoT/">WoT</a>
</li>

                    
                        
<li >
    <a href="../../base/IoE/">IoE</a>
</li>

                    
                        
<li >
    <a href="../../base/M2M/">M2M</a>
</li>

                    
                        
<li >
    <a href="../../base/LPWAN/">LPWAN</a>
</li>

                    
                        
<li >
    <a href="../../base/LTE/">LTE</a>
</li>

                    
                        
<li >
    <a href="../../base/IETF/">IETF</a>
</li>

                    
                        
<li >
    <a href="../../base/iotpic/">onePIC</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">协议&标准 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../zWave/">z-Wave</a>
</li>

                    
                        
<li >
    <a href="../EnOcean/">EnOcean</a>
</li>

                    
                        
<li >
    <a href="../802.15.4/">IEEE802.15.4</a>
</li>

                    
                        
<li >
    <a href="../ZigBee/">ZigBee</a>
</li>

                    
                        
<li >
    <a href="../6LoWPAN/">6LoWPAN</a>
</li>

                    
                        
<li class="active">
    <a href="./">RPL</a>
</li>

                    
                        
<li >
    <a href="../Lora/">LoRa</a>
</li>

                    
                        
<li >
    <a href="../NB-IoT/">NB-IoT</a>
</li>

                    
                        
<li >
    <a href="../Sigfox/">Sigfox</a>
</li>

                    
                        
<li >
    <a href="../HaLow/">Halow</a>
</li>

                    
                        
<li >
    <a href="../WiGig/">WiGig</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">操作系统 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../os/tinyos/">TinyOS</a>
</li>

                    
                        
<li >
    <a href="../../os/contiki/">Contiki</a>
</li>

                    
                        
<li >
    <a href="../../os/mbedOS/">mbedOS</a>
</li>

                    
                        
<li >
    <a href="../../os/RIOT/">RIOT</a>
</li>

                    
                        
<li >
    <a href="../../os/LiteOS/">LiteOS</a>
</li>

                    
                        
<li >
    <a href="../../os/MICO/">MiCO</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../about/">关于</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../6LoWPAN/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../Lora/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/iotknowledges/iotknowledges.github.io">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#rpl">RPL</a></li>
        
    
        <li class="main "><a href="#1">1、重要术语</a></li>
        
    
        <li class="main "><a href="#2rpl">2、RPL简介</a></li>
        
            <li><a href="#21">2.1、拓扑图</a></li>
        
            <li><a href="#22dodag">2.2、上行路由与构建DODAG</a></li>
        
            <li><a href="#23">2.3、下行路由</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="rpl">RPL</h1>
<p><strong>RPL</strong> 是IPv6 Routing Protocol for Low-Power and Lossy Networks的简称。</p>
<p>低功耗及有损网络（LLN）是一类内部链接和路由器都受限的网络，该网络下的路由器的处理器功能、内存及系统功耗（电池供电）都可能受到较大的限制，而里面的网络连接也具有高丢包率、低数据传输率及不稳定的特性。组成该网络的节点数量也多种多样，一张网络中可能仅也几个节点，也可能有成千上万个节点。节点间通讯拓扑方式可有三种形式：</p>
<ul>
<li>点到点：网络内节点到节点的通讯；</li>
<li>点到多点：LLN网络内一个中心节点到一个设备子网的所有节点通讯；</li>
<li>多点到点：LLN网络内一个设备子网内的所有节点到一个中心节点的通讯；</li>
</ul>
<h1 id="1">1、重要术语</h1>
<ul>
<li>DAG</li>
<li>DODAG</li>
</ul>
<p>Objective Function (OF): An OF defines how routing metrics, optimization objectives, and related functions are used to compute Rank. Furthermore, the OF dictates how parents in the DODAG are selected and, thus, the DODAG formation.目标功能OF：OF定义了路由计量标准、目标路径优化，以及计算Rank值的方式。与此同时，OF还规定了如何确定DODAG中的父节点的方式，即如何构造DODAG。</p>
<h1 id="2rpl">2、RPL简介</h1>
<h2 id="21">2.1、拓扑图</h2>
<p>本小节描述RPL的基本拓扑形式，以及如何建立这些网络的规则，即建立DODAG的规则。</p>
<p>LLN网络不像我们平常的有线网络那样是点到点传输的，LLN一般没有预先规定好某个发送节点的目标，网络内的节点必须自己去发现其它的节点并按RPL规则建立通信。RPL路由把网络拓扑内所有节点向外的信道汇集到一个或多个指定的出入口（sink）上去，反之外部的信息也从这些出入口（sink）出来分发给网络里面的节点。所以，RPL把整张网络视为一个DAG图（Directed Acyclic Graph），然后再将这个DAG图分割为多个DODAG图，每个DODAG图含有一个根节点（出入口sink，可以接收或发送外网信息）。这些根节点通常会连接到某一主干网上去。</p>
<p><strong>RPL</strong> 中各元素的关系</p>
<p>1）NETWORK</p>
<p><img alt="" src="../../images/rpl1.png" /></p>
<ul>
<li>一个网络中会包含有多个RPLInstance，各个RPLInstance具有自己的RPLInstanceID；</li>
<li>6lowpan应用的主要问题都集中在RPLInstance及以下的部分，因为RPLIntance的root是有能力连接到主干网络的（这就属于互联网时代的技术了）；</li>
</ul>
<p>2）RPLInstance</p>
<p><img alt="" src="../../images/rpl2.png" /></p>
<ul>
<li>一个RPLInstance中含有一个或者多个DODAG，各个DODOAG含有自己的DODAGID；</li>
<li>同一个RPLInstance里的所有DODAG共享同一种OF；</li>
</ul>
<p>3）DODAG</p>
<p><img alt="" src="../../images/rpl3.png" /></p>
<ul>
<li>每个DODOAG内含有且仅有一个root，其它的都为node；</li>
<li>每个node还有一个属性DODAGVersion，当DODAG重构时DODAGVersion会跟着增加，比如节点发生移动、信号强度互相有变化时DODAG会重构拓扑图，从而引发DODAGVersion增加。不过DODAGVersion有的时候并不是因为拓扑图变化了才增加，有其它可能导致它增加的原因；</li>
<li>
<p>DODAG内的所有节点具有自己的Rank值，该值在越接近root的节点处越小，越远离root的节点则越大；
RPLInstance可能有下面的多种组成方式：</p>
</li>
<li>
<p>仅有一个root的单一DODAG形式
  <em>比如，某个智能家居应用中，最小化的电灯控制系统，仅需要一个DODAG就可以了；</em></p>
</li>
<li>多个DODAG形式（各自有root，不同的DODAGID）
  <em>比如，在某个多点数据收集应用中，节点间没有办法互相协调所以被迫分割成多个DODAG了，或者仅是为了实现其中某一部分节点能够动态地进入/离开网络而采用了多DODAG的方式；</em></li>
<li>单一DODAG形式（使用一个主干网上的的一个根节点作为虚拟根节点，用它协调其它DODAG的根，这样该RPLInstance下的所有DODOAG具有相同的DODAGID了）
  <em>比如，某网络中的多个边界路由器，它们都具有可靠的网络连接，在理论上它们都可以扮演网络里所有DODAG的出入口（sink）功能；</em></li>
<li>上面几种情况的组合
原文如下：<blockquote>
<p>A RPL Instance may comprise:
   o  a single DODAG with a single root</p>
</blockquote>
<ul>
<li>For example, a DODAG optimized to minimize latency rooted at a single centralized lighting controller in a Home Automation application.
   o  multiple uncoordinated DODAGs with independent roots (differing DODAGIDs)</li>
<li>For example, multiple data collection points in an urban data collection application that do not have suitable connectivity to coordinate with each other or that use the formation of multiple DODAGs as a means to dynamically and autonomously partition the network.
   o  a single DODAG with a virtual root that coordinates LLN sinks(with the same DODAGID) over a backbone network.</li>
<li>For example, multiple border routers operating with a reliable transit link, e.g., in support of an IPv6 Low-Power Wireless Personal Area Network (6LoWPAN) application, that are capable of acting as logically equivalent interfaces to the sink of the same DODAG.
   o  a combination of the above as suited to some application scenario.</li>
</ul>
</li>
</ul>
<h2 id="22dodag">2.2、上行路由与构建DODAG</h2>
<p>RPL规定从节点到DODOAG的根的路由，应该根据OF算出最优的DODAG来，节点间通过互相传递DIO（DODAG Information Object）信息数据来建立和维护DODAG图。</p>
<h2 id="23">2.3、下行路由</h2>
<p>RPL使用DAO（Destination Advertisement Object (DAO)）信息数据来建立下行路由</p>
<blockquote>
<p><a href="http://www.cnblogs.com/tfanalysis/p/3690890.html">参考链接</a></p>
</blockquote></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
                <center><img src="/favicon.ico" alt="iZheteng" /></a><a rel="nofollow" href="https://cuiqingwei.github.io/"> cuiqingwei.github.io </a></center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>